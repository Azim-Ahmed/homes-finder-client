{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport { Col, Row, Table, Button } from 'react-bootstrap';\nimport Layout from '../../Components/Layout';\nimport { api } from '../../urlConfig';\nimport Modal from '../../Components/ReUseableUI/Modal';\nimport styles from '../../styles/dashboard.module.css';\n\nconst Orders = () => {\n  //states of order page\n  const {\n    0: getAllOrders,\n    1: setGetAllOrders\n  } = useState({}); //order details Modal states\n\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: orderDetails,\n    1: setOrderDetails\n  } = useState(null);\n  const {\n    0: orderDetailModal,\n    1: setOrderDetailModal\n  } = useState(false); //hook of React\n\n  useEffect(() => {\n    fetch(`${api}/order/getAllOrders`).then(res => res.json()).then(data => setGetAllOrders(data.order));\n  }, [getAllOrders]); //console.log(getAllOrders);\n  //modal function\n\n  const handleShow = () => setShow(true); //show particular order details\n\n\n  const showOrderDetailModal = order => {\n    setOrderDetails(order);\n    setOrderDetailModal(true);\n  }; //delete orders\n\n\n  const deleteOrder = order => {\n    fetch(`${api}/order/delete/${order._id}`, {\n      method: 'DELETE'\n    }).then(res => res.json()).then(result => {\n      alert('deleted');\n    });\n  }; //render all data Table\n\n\n  const renderAllOrdersData = () => {\n    return /*#__PURE__*/_jsxs(Table, {\n      style: {\n        fontSize: '.9rem'\n      },\n      responsive: true,\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            children: \"#\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"Name\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"Price\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"Email\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"Shoow Details\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"delete\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"tbody\", {\n        children: getAllOrders.length > 0 ? getAllOrders.map((order, index) => /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"td\", {\n            children: index + 1\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: order.serviceName\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: order.orderPrice\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: order.email\n          }), /*#__PURE__*/_jsx(\"td\", {\n            onClick: () => showOrderDetailModal(order),\n            children: /*#__PURE__*/_jsx(Button, {\n              variant: \"dark\",\n              children: \" Show Deatils\"\n            })\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsxs(Button, {\n              onClick: () => deleteOrder(order),\n              variant: \"danger\",\n              children: [' ', \"Delete\"]\n            })\n          })]\n        }, order._id)) : null\n      })]\n    });\n  }; //order Details modal\n\n\n  const renderOrderDetailModal = () => {\n    if (!orderDetails) {\n      return null && /*#__PURE__*/_jsx(Loader, {});\n    }\n\n    return /*#__PURE__*/_jsxs(Modal, {\n      size: \"lg\",\n      show: orderDetailModal,\n      showOrderDetailsModal: false,\n      handleClose: () => setOrderDetailModal(false),\n      modalTitle: `Order Details`,\n      children: [/*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Client Name\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.name\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Service Name\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.serviceName\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Order Price\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.orderPrice\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Client Email\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.email\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"City\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.city\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Street\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.street\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Work Duration\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.time\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Work Time\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.workTime\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Work Date\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.workDate\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Work Time\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.workTime\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Updated time\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.updatedAt\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Created Time\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.createdAt\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Row, {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxs(Col, {\n          md: \"12\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Description\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"value\",\n            children: orderDetails.orderDescription\n          })]\n        }), /*#__PURE__*/_jsxs(Col, {\n          md: \"12\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            className: \"bg-secondary text-white p-2 key\",\n            children: \"Ordered Picture\"\n          }), /*#__PURE__*/_jsx(\"img\", {\n            className: `value img-fluid ${styles.detailsImage}`,\n            src: orderDetails.orderPicture\n          })]\n        })]\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(Layout, {\n    dashboard: true,\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: \"my-4  text-center text-white\",\n      children: \"Welcome to the Orders Page\"\n    }), renderAllOrdersData(), renderOrderDetailModal()]\n  });\n};\n\nexport default Orders;","map":null,"metadata":{},"sourceType":"module"}